<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="formStyle.css">
        <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
        <title>Login</title>
    </head>
    <body>
        <div class="form-style-inline">
            <h2>Search for flights</h2>
            <form>
                <label>Departure date <input type="date" ng-model="searchParams.date" /></label>
                <label>Departure Airport <select ng-model="searchParams.from">
                        <option ng-repeat="x in airports">{{x}}</option>
                    </select></label>
                <label>No. Of passengers <input type="number" min="1" max="10" ng-model="searchParams.tickets"></label>
                <input type="button" value="Search" ng-click="getSearchResults()"/>
            </form>
            <form>
                
                <label>Flexible Date <input type="checkbox" ng-model="flextoggle"><input type="date" ng-model="searchParams.flexdate" /></label>
            </form>
        </div>

        <table border="1" ng-show="isSearched">
            <thead>
            <th><span> Airline </span></th>
            <th><span> Flight Number </span></th>
            <th><span> Departure airport </span></th>
            <th><span> Departure date </span></th>
            <th><span> Arrival airport </span></th>
            <th><span> Travel Time </span></th>
            <th><span> Seats </span></th>
            <th><span> Total Price </span></th>
        </thead>
        <tbody ng-repeat="a in searchResults">
            <tr ng-repeat="flight in a">
                <td> {{a.airline}}</td>
                <td> {{a.flights[$index + 1].flightNumber}}</td>
                <td> {{a.flights[$index + 1].origin}}</td>
                <td> {{a.flights[$index + 1].date| date : "short"}}</td>
                <td> {{a.flights[$index + 1].destination}}</td>
                <td> {{a.flights[$index + 1].traveltime}}</td>
                <td> {{a.flights[$index + 1].numberOfSeats}}</td>
                <td> {{a.flights[$index + 1].totalPrice}} DKK</td>
            </tr>
        </tbody>
        <table border="1" ng-show="isFlexSearched">
            <thead>
            <th><span> Airline </span></th>
            <th><span> Flight Number </span></th>
            <th><span> Departure airport </span></th>
            <th><span> Departure date </span></th>
            <th><span> Arrival airport </span></th>
            <th><span> Travel Time </span></th>
            <th><span> Seats </span></th>
            <th><span> Total Price </span></th>
            </thead>
            <tbody ng-repeat="day in searchResults">
                <tr ng-repeat="flight in day.flights">
                    <td>{{day.airline}}</td>
                    <td>{{flight.flightNumber}}</td>
                    <td>{{flight.origin}}</td>
                    <td>{{flight.date}}</td>
                    <td>{{flight.destination}}</td>
                    <td>{{flight.traveltime}}</td>
                    <td>{{flight.numberOfSeats}}</td>
                    <td>{{flight.totalPrice}}</td>


                </tr>    
            </tbody>
        </table>

</body>
</html>